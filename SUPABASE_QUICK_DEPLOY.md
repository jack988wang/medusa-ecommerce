# ğŸš€ Supabase å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸ“‹ ç®€åŒ–æµç¨‹ï¼ˆè·³è¿‡æ•°æ®è¿ç§»ï¼‰

ç”±äº Render ä¸Šæ²¡æœ‰é‡è¦å†å²æ•°æ®ï¼Œå¯ä»¥ç›´æ¥åˆ‡æ¢åˆ° Supabaseï¼Œä½¿ç”¨ç¤ºä¾‹æ•°æ®ã€‚

### âš¡ å¿«é€Ÿæ­¥éª¤

#### 1ï¸âƒ£ **åˆ›å»º Supabase é¡¹ç›®**
1. è®¿é—® [https://supabase.com](https://supabase.com)
2. ç‚¹å‡» "Start your project" â†’ ä½¿ç”¨ GitHub ç™»å½•
3. åˆ›å»ºæ–°é¡¹ç›®ï¼š
   - é¡¹ç›®åç§°ï¼š`medusa-card-shop`
   - å¯†ç ï¼šç”Ÿæˆå¹¶ä¿å­˜
   - åŒºåŸŸï¼šé€‰æ‹©æœ€è¿‘çš„ï¼ˆå¦‚ Singaporeï¼‰
4. ç­‰å¾… 2-3 åˆ†é’Ÿé¡¹ç›®åˆ›å»ºå®Œæˆ

#### 2ï¸âƒ£ **è®¾ç½®æ•°æ®åº“**
1. åœ¨ Supabase Dashboard ä¸­ï¼Œç‚¹å‡» "SQL Editor"
2. å¤åˆ¶å¹¶ç²˜è´´ `backend/supabase-schema.sql` çš„å…¨éƒ¨å†…å®¹
3. ç‚¹å‡» "Run" æ‰§è¡Œè„šæœ¬
4. éªŒè¯è¡¨å·²åˆ›å»ºï¼šç‚¹å‡» "Table Editor" æŸ¥çœ‹ `products`, `card_secrets`, `orders` è¡¨

#### 3ï¸âƒ£ **è·å–è¿æ¥ä¿¡æ¯**
1. åœ¨é¡¹ç›®ä»ªè¡¨æ¿ä¸­ï¼Œç‚¹å‡» "Settings" â†’ "API"
2. å¤åˆ¶ä»¥ä¸‹ä¿¡æ¯ï¼š
   ```
   Project URL: https://your-project.supabase.co
   anon public: your-anon-key
   service_role: your-service-role-key
   ```

#### 4ï¸âƒ£ **æ›´æ–° Render ç¯å¢ƒå˜é‡**
1. ç™»å½• [Render Dashboard](https://dashboard.render.com)
2. æ‰¾åˆ°åç«¯æœåŠ¡ï¼ˆå¦‚ `medusa-ecommerce-pr8p`ï¼‰
3. ç‚¹å‡» "Environment" æ ‡ç­¾
4. æ·»åŠ /æ›´æ–°ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
   ```bash
   SUPABASE_URL=https://your-project.supabase.co
   SUPABASE_ANON_KEY=your-anon-key
   SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
   ```
5. ä¿å­˜é…ç½®

#### 5ï¸âƒ£ **é‡æ–°éƒ¨ç½²**
1. åœ¨ Render Dashboard ä¸­ï¼Œç‚¹å‡»åç«¯æœåŠ¡çš„ "Manual Deploy"
2. é€‰æ‹© "Deploy latest commit"
3. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆ5-10 åˆ†é’Ÿï¼‰

#### 6ï¸âƒ£ **éªŒè¯éƒ¨ç½²**
1. è®¿é—®å¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼š`https://your-backend.onrender.com/health`
2. æ£€æŸ¥å“åº”ä¸­çš„ `database.type` æ˜¯å¦ä¸º "Supabase"
3. æ£€æŸ¥ `database.status` æ˜¯å¦ä¸º "connected"

### ğŸ”§ æ•…éšœæ’é™¤

#### å¸¸è§é—®é¢˜

**âŒ è¿æ¥è¶…æ—¶**
```bash
è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥ SUPABASE_URL æ˜¯å¦æ­£ç¡®
```

**âŒ æƒé™é”™è¯¯**
```bash
è§£å†³æ–¹æ¡ˆï¼šç¡®è®¤ä½¿ç”¨äº†æ­£ç¡®çš„ SUPABASE_ANON_KEY
```

**âŒ è¡¨ä¸å­˜åœ¨**
```bash
è§£å†³æ–¹æ¡ˆï¼šé‡æ–°æ‰§è¡Œ supabase-schema.sql è„šæœ¬
```

**âŒ ç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ**
```bash
è§£å†³æ–¹æ¡ˆï¼šé‡æ–°éƒ¨ç½² Render æœåŠ¡
```

### ğŸ“Š éªŒè¯æ¸…å•

- [ ] Supabase é¡¹ç›®å·²åˆ›å»º
- [ ] æ•°æ®åº“è¡¨å·²åˆ›å»ºï¼ˆproducts, card_secrets, ordersï¼‰
- [ ] ç¯å¢ƒå˜é‡å·²è®¾ç½®ï¼ˆSUPABASE_URL, SUPABASE_ANON_KEY, SUPABASE_SERVICE_ROLE_KEYï¼‰
- [ ] Render æœåŠ¡å·²é‡æ–°éƒ¨ç½²
- [ ] å¥åº·æ£€æŸ¥æ˜¾ç¤º Supabase è¿æ¥æ­£å¸¸
- [ ] ç®¡ç†åå°å¯ä»¥åˆ›å»ºäº§å“
- [ ] å¡å¯†ä¸Šä¼ åŠŸèƒ½æ­£å¸¸
- [ ] é‚®ç®±ç»Ÿè®¡åŠŸèƒ½æ­£å¸¸

### ğŸ¯ é¢„æœŸç»“æœ

è¿ç§»å®Œæˆåï¼Œæ‚¨å°†è·å¾—ï¼š

- âœ… **æ•°æ®æŒä¹…åŒ–**ï¼šRender é‡å¯ä¸å†ä¸¢å¤±æ•°æ®
- âœ… **å¹¶å‘å®‰å…¨**ï¼šå¤šç”¨æˆ·åŒæ—¶æ“ä½œä¸ä¼šå†²çª
- âœ… **æ›´å¥½æ€§èƒ½**ï¼šæ•°æ®åº“ç´¢å¼•å’Œä¼˜åŒ–æŸ¥è¯¢
- âœ… **è‡ªåŠ¨å¤‡ä»½**ï¼šSupabase è‡ªåŠ¨å¤‡ä»½æ•°æ®
- âœ… **ç›‘æ§é¢æ¿**ï¼šå®æ—¶æŸ¥çœ‹æ•°æ®åº“çŠ¶æ€

### ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹ Render éƒ¨ç½²æ—¥å¿—
2. æ£€æŸ¥ Supabase Dashboard ä¸­çš„é”™è¯¯
3. å‚è€ƒå¥åº·æ£€æŸ¥ç«¯ç‚¹çš„å“åº”
4. å¿…è¦æ—¶å¯ä»¥ç§»é™¤ Supabase ç¯å¢ƒå˜é‡å›é€€åˆ°æ–‡ä»¶ç³»ç»Ÿ

---

**â±ï¸ é¢„è®¡æ—¶é—´ï¼š15-20 åˆ†é’Ÿ**

**ğŸ‰ å®Œæˆåï¼Œæ‚¨çš„å¡å¯†å•†åŸå°†æ‹¥æœ‰ä¼ä¸šçº§çš„æ•°æ®å­˜å‚¨èƒ½åŠ›ï¼**
